<svg width="900" height="520" xmlns="http://www.w3.org/2000/svg">
  <!-- Cluster boundary -->
  <rect x="30" y="30" width="840" height="460" rx="24" fill="#f5f7fa" stroke="#b0b0b0" stroke-width="2"/>
  <text x="450" y="55" font-size="22" font-family="Arial" text-anchor="middle" fill="#333">Kubernetes Cluster</text>

  <!-- Publisher Microservices -->
  <rect x="60" y="120" width="140" height="60" rx="12" fill="#cce5ff" stroke="#333"/>
  <text x="130" y="150" font-size="14" font-family="Arial" text-anchor="middle" fill="#222">Publisher</text>
  <text x="130" y="168" font-size="14" font-family="Arial" text-anchor="middle" fill="#222">Microservices</text>
  <rect x="60" y="190" width="140" height="40" rx="8" fill="#e6e6fa" stroke="#333"/>
  <text x="130" y="215" font-size="12" font-family="Arial" text-anchor="middle" fill="#222">Namespace: finance-app</text>

  <!-- API Gateway / Ingress -->
  <rect x="240" y="140" width="120" height="40" rx="8" fill="#ffe6e6" stroke="#333"/>
  <text x="300" y="165" font-size="13" font-family="Arial" text-anchor="middle" fill="#222">API Gateway /</text>
  <text x="300" y="180" font-size="13" font-family="Arial" text-anchor="middle" fill="#222">Ingress Controller</text>

  <!-- Azure Event Hub -->
  <ellipse cx="450" cy="160" rx="80" ry="35" fill="#e6ffe6" stroke="#333"/>
  <text x="450" y="165" font-size="15" font-family="Arial" text-anchor="middle" fill="#222">Azure Event Hub</text>

  <!-- Subscriber Microservices -->
  <rect x="600" y="120" width="140" height="60" rx="12" fill="#cce5ff" stroke="#333"/>
  <text x="670" y="150" font-size="14" font-family="Arial" text-anchor="middle" fill="#222">Subscriber</text>
  <text x="670" y="168" font-size="14" font-family="Arial" text-anchor="middle" fill="#222">Microservices</text>
  <rect x="600" y="190" width="140" height="40" rx="8" fill="#e6e6fa" stroke="#333"/>
  <text x="670" y="215" font-size="12" font-family="Arial" text-anchor="middle" fill="#222">Namespace: user-mgmt</text>

  <!-- PostgreSQL Database -->
  <rect x="780" y="140" width="100" height="50" rx="10" fill="#fff3cd" stroke="#333"/>
  <text x="830" y="165" font-size="13" font-family="Arial" text-anchor="middle" fill="#222">PostgreSQL</text>
  <text x="830" y="180" font-size="13" font-family="Arial" text-anchor="middle" fill="#222">Database</text>

  <!-- Azure Service Bus -->
  <ellipse cx="450" cy="90" rx="70" ry="25" fill="#e0f7fa" stroke="#333"/>
  <text x="450" y="95" font-size="13" font-family="Arial" text-anchor="middle" fill="#222">Azure Service Bus</text>

  <!-- Observability -->
  <rect x="320" y="350" width="260" height="60" rx="12" fill="#e2e3e5" stroke="#333"/>
  <text x="450" y="380" font-size="14" font-family="Arial" text-anchor="middle" fill="#222">Prometheus / Grafana / Azure Monitor</text>
  <text x="450" y="400" font-size="12" font-family="Arial" text-anchor="middle" fill="#222">OpenTelemetry, Log Analytics</text>

  <!-- Key Vault -->
  <rect x="60" y="350" width="120" height="40" rx="8" fill="#f0fff0" stroke="#333"/>
  <text x="120" y="375" font-size="13" font-family="Arial" text-anchor="middle" fill="#222">Azure Key Vault</text>

  <!-- Terraform -->
  <rect x="720" y="350" width="120" height="40" rx="8" fill="#f0f8ff" stroke="#333"/>
  <text x="780" y="375" font-size="13" font-family="Arial" text-anchor="middle" fill="#222">Terraform</text>
  <text x="780" y="390" font-size="11" font-family="Arial" text-anchor="middle" fill="#222">IaC Provisioning</text>

  <!-- ArgoCD -->
  <rect x="720" y="420" width="120" height="40" rx="8" fill="#f0f8ff" stroke="#333"/>
  <text x="780" y="445" font-size="13" font-family="Arial" text-anchor="middle" fill="#222">ArgoCD</text>
  <text x="780" y="460" font-size="11" font-family="Arial" text-anchor="middle" fill="#222">GitOps CD</text>

  <!-- Arrows -->
  <polygon points="200,150 240,160 240,155 260,160 240,165 240,160" fill="#333"/>
  <polygon points="360,160 370,160 370,155 390,160 370,165 370,160" fill="#333"/>
  <polygon points="530,160 600,150 600,155 620,160 600,165 600,160" fill="#333"/>
  <polygon points="740,165 780,165 780,160 800,165 780,170 780,165" fill="#333"/>
  <polygon points="130,180 130,350 140,350 130,370 120,350 130,350" fill="#333"/>
  <polygon points="670,180 670,350 680,350 670,370 660,350 670,350" fill="#333"/>
  <polygon points="450,195 450,350 460,350 450,370 440,350 450,350" fill="#333"/>
  <polygon points="830,190 830,350 840,350 830,370 820,350 830,350" fill="#333"/>
  <polygon points="830,390 830,420 840,420 830,440 820,420 830,420" fill="#333"/>
  <polygon points="780,390 780,420 790,420 780,440 770,420 780,420" fill="#333"/>
  <polygon points="450,115 450,125 460,125 450,145 440,125 450,125" fill="#333"/>

  <!-- Arrow Labels -->
  <text x="230" y="140" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Ingress</text>
  <text x="410" y="150" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Publish Events</text>
  <text x="570" y="150" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Distribute Events</text>
  <text x="760" y="155" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Persist Results</text>
  <text x="150" y="320" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Secrets</text>
  <text x="690" y="320" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Secrets</text>
  <text x="470" y="320" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Metrics, Logs, Traces</text>
  <text x="850" y="320" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Provision</text>
  <text x="850" y="410" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Deploy</text>
  <text x="800" y="410" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Sync</text>
  <text x="450" y="80" font-size="11" font-family="Arial" text-anchor="middle" fill="#555">Async Events</text>
</svg>
